# Radiation Scanner Assistant   

* <b>   1.2.8.9</b>
1. Добавлена диагностика БД (66, 67, 68, 70). Если блок возвращает ошибку (не 0), то RSA переходит в режим "Простой", появляется диалог с информацией об ошибке, эта же инфа пишется в лог (только в режиме сканирования), также отображается в Info. Сама Info панель меняет цвет шрифта на красный
* <b>   1.2.8.8</b>
1. Изменен порядок отображения показаний для нейтрона: сейчас первым идет ск.с., затем м.д.
* <b>   1.2.8.7</b>
1. Добавлен пункт меню включающий отображение скорости счета раздельно для кадлого блока (нужно для поверки). Так как в БДТУ не показывает среднюю с.сч. для каждого канала, только мгновенную, то добавлено усреднение показаний по 10 измерений
* <b>   1.2.8.6</b>
1. В настройки добавлен переключатель, при активации которого, если к смартфону или БТДУ будет подключена зарядка, то приложение автоматом перейдет в режим "Простой"
* <b>   1.2.8.5</b>
1. При привышении порога по нейтрону в окне сообщений появляется соответствующее сообщение. Включается экран, если это разрешено пользователем
* <b>   1.2.8.4</b>  
2. Исправлена работа счетчиков тревог для гамма и нейтрона
* <b>   1.2.8.3</b>
1. "Автоматическая загрузка файлов на облако" переименовано в "Загрузка файлов на облако"
2. При переполнении по нейтрону, отображается "- - -"
* <b>   1.2.8.2</b>  
1. Переделано отображение в журнале: убраны лишние пустые строки; переведены все строки и названия параметров (Рус, Анг, Фра, Исп). Параметры теперь идут в алфавитном порядке (Map -> TreeMap). Добавлен пробел после даты
2. При превышении порога в инфо и в лог пишется "Тревога радиационной безопасности/Radiation safety alarm"
* <b>   1.2.8.1</b>  
2. Исправлено: AC (alarm count) было только на английском
3. Исправлено: если во время переполнения достать штекер от БДКГ-11М из БТДУ, это приводило к падению приложения
5. Исправлено: убрано отображение процента на облаке, если значение = 0%
* <b>   1.2.7.48</b>  
1. Исправлено: при запуске приложения часто сразу же говорило: "Gamma channel not connected", после чего нормально подключалось и уже говорило, что подключено. Бесило. Теперь при попытке подключения ждет 20 сек, прежде чем сказать, что "не подключено"
* <b>   1.2.7.47</b>  
1. Упорядочил код для перегрузки (CommunicationService)
2. Для спектрометрического режима: при любой перегрузке включается "beep тревоги"
* <b>   1.2.7.46</b>  
2. Для режима сканирования добавлен новый тип звукового сигнала: при любой перегрузке вместо пикания включается "Beep тревоги".
* <b>   1.2.7.45</b> 
1. Добавлена перегрузка для спектрометрического режима. Добавлена функция sayIfTimePassed
2. Исправлено: при переходе в режим перегрузки происходило завершение идентификации ДАЖЕ ЕСЛИ ДО ЭТОГО ИДЕНТИФИКАЦИЯ НЕ БЫЛА ЗАПУЩЕНА
* <b>   1.2.7.44</b>  
1. Добавлено: после отключения перегрузки возврат в 0-й режим отображения значения (мощность дозы). Только если до этого был включен H-режим
* <b>   1.2.7.42</b>  
2. Фраза "GAMMA_RADIATION_DETECTED" теперь звучит только один раз, раньше произносилась постоянно, пока превышен порог
* <b>   1.2.7.40</b>  
1. Если перегрузка по гамме или по мощности дозы, то при превышении порога в режиме сканирования идентификация включаться НЕ БУДЕТ
2. Исправил карусель режимов: заменил ==max на >=max, иначе если в режиме 3 или 4 отключить в настройках Шир, g_mode не переходил в 0 (будет 4, 5 ... и т.д. при max==3)
* <b>   1.2.7.38</b>  
1. Переделана логика перегрузки: теперь если перегружен только спектрометрический, но широкодиапазонный подключен, то "Gamma overload". Если перегружен Шир или перегружен Спек при неподключенном Шир, то "Dose rate overload"
2. При любой перегрузке отключается идентификация
* <b>   1.2.7.37</b>  
1. Добавлена перегрузка: по нейтрону, по гамме, по ШИРОКОДИАПАЗОННОМУ. Отображение в статусе, в логе, на месте "шарика" надпись "OL".
2. При перегрузке по гамме показания принудительно переключаются в HighDose (если подключен). Карусель режимов пропускает показания НЕ ПО широкодиапазонному каналу.
3. Добавлено: если широкодиапазонный не подключен, но включен в настройках, то будут отображаться "- - -" (раньше отображались нули)
4. Теперь если перегрузка по гамме, то значения МД окрашиваются красным, но значения по широкодиапазонному остаются белыми. ШД значения красные только при перегрузке по широкодиапазонному
* <b>   1.2.7.36</b>  
1. При идентификации неизвестного радионуклида произносится "Неизвестный", отображается в инфо, записываетися в лог, при открытии спектра отображается в списке найденных нуклидов, как "Неизвестный". Коэффициент достоверности для такого нуклида НЕ ОТОБРАЖАЕТСЯ. Цветная линия достоверности — во всю длину, синяя
2. Обновил все импорты
* <b>   1.2.7.35</b>  
1. Исправлено некоректное срабатывания Перегрузки. (Было: при срабатывании постоянно в лог записывалось по 2-3 раза в секунду) — срабатывало не на появление перегрузки, а на её наличие
2. При перегрузке пишет в лог, в инфо, в строку статуса
* <b>   1.2.7.34</b>  
1. Добавлено: при тапе на область показаний по гамме теперь карусель из пяти единиц (раньше три): МД, СС, Д, МД-Ш, СС-Ш. Если широкодиапазонный блок не подключен, в каруселе только 3 единицы (без широкодиапазонного)
* <b>   1.2.7.33</b>  
1. Добавлен счетчик тревог для гамма и нейтрона
2. Добавлено: переполнение по гамма и нейтрону теперь отображается в инфо, записывается в лог, при переполнении мигает соответствующий шарик (красный или синий)
* <b>   1.2.7.32</b>  
1. При выборе аккаунта отображается фото аккаунта.
2. Изменены надписи на кнопках в фрагменте лога, раньше было не очевидно, что делает каждая кнопка
* <b>   1.2.7.31</b>  
1. Добавлено: во время загрузки файлов на облако отображается процент загрузки файлов
2. Исправлено: новый английский текст отображался как русский, иконка облако на большом лэйауте отображалась, как очень маленькая
* <b>   1.2.7.30</b>  
1. Добавлена проверка на нажатие кнопки "Upload whole folder" — при нажатии кнопки запускается процесс загрузки папки проекта, при этом кнопка кнопка перестает включать загрузку, пока текущая загрузка не будет завершена
* <b>   1.2.7.29</b>  
1. Добавлено: можно регулировать скорость движения графика (5 градаций)
